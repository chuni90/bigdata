package mov.com.action;

import java.util.ArrayList;
import java.util.Scanner;

import mov.com.svc.ShowService;
import mov.com.svc.VoteService;
import mov.com.util.ConsoleUtils;
import mov.com.vo.MovieDTO;
import stu.com.svc.ModifyService;
import stu.com.vo.StudentDTO;

public class VoteAction implements Action{
	@Override
	public void execute(Scanner sc) {
		
		/*
		 * 1.전체 영화를 출력시킨다.
		 */
		
		ShowService showsvc = new ShowService();
		ArrayList<MovieDTO> list = showsvc.selectAll();
		
		if(list==null) {
			System.out.println("등록된 영화정보가 존재하지 않습니다.");
			return;
		}
		
		ConsoleUtils cu = new ConsoleUtils();
		cu.show(list);
		
		// 2. 출력된 영화 중 1개를 선택하고, 이를 서비스 객체로 넘겨준다
		System.out.print("위 영화 중에서 가장 보고 싶은 영화 1가지를 선택해주세요.\n 영화 ID 입력>> ");
		VoteService votesvc = new VoteService();
		
		AccountDTO newAccount = votesvc.vote(id);
		String id = cu.getVoteId(sc, "투표");
		votesvc.vote(id);
		
		StudentDTO oldStudent = modifysvc.getStudent(id);
		
	}

}