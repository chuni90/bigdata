package mov.com.action;

import java.util.ArrayList;
import java.util.Scanner;

import mov.com.svc.ShowService;
import mov.com.svc.VoteService;
import mov.com.util.ConsoleUtils;
import mov.com.vo.MovieDTO;

public class VoteAction implements Action{
	@Override
	public void execute(Scanner sc) {
		
		/*
		 * 1.전체학번에 대한 정보를 받아와서 출력시킨다.
		 */
		
		ShowService showsvc = new ShowService();
		ArrayList<MovieDTO> list = showsvc.selectAll();
		
		if(list==null) {
			System.out.println("등록된 영화정보가 존재하지 않습니다.");
			return;
		}
		
		ConsoleUtils cu = new ConsoleUtils();
		cu.show(list);
		
		// 출력된 영화 중 1개를 선택하고, 이게 DAO로가서 mymovie에 꽂히게 한다.
		System.out.print("위 영화 중에서 가장 보고 싶은 영화 1가지를 선택해주세요.\n 영화 ID 입력>> ");
		VoteService votesvc = new VoteService();
		int id = cu.getVoteId(sc, "투표");
		votesvc.voteMovie(id);
		// 
		
	}

}